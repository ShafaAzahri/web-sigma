<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UKM</title>
    <link rel="stylesheet" href="/frontend/src/styles/user/UKM.css">
</head>
<body>
    <div id="navbar"></div>
    <div class="content-container">
        <h2>UKM yang Diikuti</h2>
        <div class="ukm-grid" id="ukm-diikuti">
            <!-- Data UKM akan diisi oleh JavaScript -->
        </div>

        <h2>Rekomendasi UKM</h2>
        <div class="ukm-grid">
            <a href="/frontend/src/pages/user/ukm_detail_not_registered.html" class="ukm-card">
                <img src="/frontend/public/assets/logo-bem.png" alt="PP Logo" class="ukm-logo">
                <div class="ukm-name">PP</div>
                <div class="ukm-desc">Pengembangan Pengetahuan</div>
            </a>
            <a href="#" class="ukm-card">
                <img src="/api/placeholder/120/120" alt="BPM Logo" class="ukm-logo">
                <div class="ukm-name">BPM</div>
                <div class="ukm-desc">Badan Perwakilan Mahasiswa</div>
            </a>
            <a href="#" class="ukm-card">
                <img src="/api/placeholder/120/120" alt="Basket Logo" class="ukm-logo">
                <div class="ukm-name">Basket</div>
                <div class="ukm-desc">UKM Bola Basket</div>
            </a>
            <a href="#" class="ukm-card">
                <img src="/api/placeholder/120/120" alt="Fotografi Logo" class="ukm-logo">
                <div class="ukm-name">Fotografi</div>
                <div class="ukm-desc">UKM Fotografi</div>
            </a>
        </div>
    </div>
    <script src="/frontend/src/utils/navbar/navbar.js"></script>
    // Tambahkan script ini sebelum closing body tag
<script>
fetch('/backend/controllers/get_ukm_diikuti.php')
    .then(response => response.json())
    .then(data => {
        const ukmContainer = document.getElementById('ukm-diikuti');
        
        if (Array.isArray(data)) {
            data.forEach(ukm => {
                const ukmCard = document.createElement('a');
                ukmCard.href = "#"; // Nanti bisa disesuaikan dengan link detail UKM
                ukmCard.className = "ukm-card";
                
                ukmCard.innerHTML = `
                    <img src="/frontend/public/assets/${ukm.logo_path || 'default-logo.png'}" alt="${ukm.nama_ukm} Logo" class="ukm-logo">
                    <div class="ukm-name">${ukm.nama_ukm}</div>
                    <div class="ukm-desc">${ukm.deskripsi}</div>
                    <div class="ukm-periode">Periode ${ukm.tahun_mulai}-${ukm.tahun_selesai}</div>
                `;
                
                ukmContainer.appendChild(ukmCard);
            });
        } else {
            ukmContainer.innerHTML = '<p>Tidak ada UKM yang diikuti</p>';
        }
    })
    .catch(error => {
        console.error('Error:', error);
        document.getElementById('ukm-diikuti').innerHTML = 
            '<p>Terjadi kesalahan saat memuat data UKM</p>';
    });
</script>
</body>
</html>